# vim:foldmethod=marker

# Open terminal (kitty)
alt - space : open -na kitty --args --single-instance -d ~
alt + shift - space : open -na kitty --args -d ~
# Open terminal with ranger
fn  - space : open -na kitty --args --single-instance -d ~ --session ~/dotfiles/kitty/ranger.session
alt + cmd - space : ~/dotfiles/run.sh

# Use capslock as escape.
# NOTE(splintah): capslock is mapped to escape in System Preferences, since that removes the delay.
# NOTE(splintah): capslock cannot be mapped with skhd.
# - capslock : skhd -k "escape"

# chunkwm {{{

# Move windows
# Old (left here because of habits):
# alt + cmd - h : chunkc tiling::window --warp west
# alt + cmd - j : chunkc tiling::window --warp south
# alt + cmd - k : chunkc tiling::window --warp north
# alt + cmd - l : chunkc tiling::window --warp east
# New:
fn + shift - h : chunkc tiling::window --warp west
fn + shift - j : chunkc tiling::window --warp south
fn + shift - k : chunkc tiling::window --warp north
fn + shift - l : chunkc tiling::window --warp east

# Focus windows
# Old (left here because of habits):
# alt - h : chunkc tiling::window --focus west
# alt - j : chunkc tiling::window --focus south
# alt - k : chunkc tiling::window --focus north
# alt - l : chunkc tiling::window --focus east
# New:
fn - h : chunkc tiling::window --focus west
fn - j : chunkc tiling::window --focus south
fn - k : chunkc tiling::window --focus north
fn - l : chunkc tiling::window --focus east

fn + alt - l : chunkc tiling::monitor -f prev
fn + alt - h : chunkc tiling::monitor -f next

# Rotate windows
fn - r         : chunkc tiling::desktop --rotate 270
fn + shift - r : chunkc tiling::desktop --rotate 90

# Change split-ratio
fn + ctrl - h : chunkc tiling::window -r 0.025 -e west  tiling::window -r -0.025 -e east
fn + ctrl - j : chunkc tiling::window -r 0.025 -e south tiling::window -r -0.025 -e north
fn + ctrl - k : chunkc tiling::window -r 0.025 -e north tiling::window -r -0.025 -e south
fn + ctrl - l : chunkc tiling::window -r 0.025 -e east  tiling::window -r -0.025 -e west

# Desktop layout
fn + shift - b : chunkc tiling::desktop --layout bsp
fn + shift - m : chunkc tiling::desktop --layout monocle
fn + shift - f : chunkc tiling::desktop --layout float

# Fullscreen
fn - f : chunkc tiling::desktop --toggle offset

# Exposé
fn - g : skhd -k "ctrl - up"

# Change padding
fn + ctrl + shift - j : chunkc tiling::desktop --padding inc
fn + ctrl + shift - k : chunkc tiling::desktop --padding dec

# Change gap
fn + ctrl + shift - h : chunkc tiling::desktop --gap dec
fn + ctrl + shift - l : chunkc tiling::desktop --gap inc

# Equalize windows
fn - 0x18 : chunkc tiling::desktop --equalize

# Insertion points
fn + alt - h : chunkc tiling::window --use-insertion-point west
fn + alt - j : chunkc tiling::window --use-insertion-point south
fn + alt - k : chunkc tiling::window --use-insertion-point north
fn + alt - l : chunkc tiling::window --use-insertion-point east

# Switch desktops
# Old (left here because of habits):
# ctrl + cmd - l : skhd -k "ctrl - right"
# ctrl + cmd - h : skhd -k "ctrl - left"
# New:
fn + cmd - l : skhd -k "ctrl - right"
fn + cmd - h : skhd -k "ctrl - left"
# NOTE(splintah): 0x0A is the §/± key on my keyboard.
#                 I never use this key, so:
#       - 0x0A : skhd -k "ctrl - right"
# shift - 0x0A : skhd -k "ctrl - left"

# Send window to desktop
ctrl + shift - l : chunkc tiling::window --send-to-desktop next && skhd -k "ctrl - right"
ctrl + shift - h : chunkc tiling::window --send-to-desktop prev && skhd -k "ctrl - left"
ctrl + shift - 1 : chunkc tiling::window --send-to-desktop 1
ctrl + shift - 2 : chunkc tiling::window --send-to-desktop 2
ctrl + shift - 3 : chunkc tiling::window --send-to-desktop 3
ctrl + shift - 4 : chunkc tiling::window --send-to-desktop 4
ctrl + shift - 5 : chunkc tiling::window --send-to-desktop 5
ctrl + shift - 6 : chunkc tiling::window --send-to-desktop 6
ctrl + shift - 7 : chunkc tiling::window --send-to-desktop 7

# 'Tile' floating windows.
ctrl + alt - up    : chunkc tiling::window --grid-layout 1:1:0:0:1:1
ctrl + alt - left  : chunkc tiling::window --grid-layout 1:2:0:0:1:1
ctrl + alt - right : chunkc tiling::window --grid-layout 1:2:1:0:1:1

# Floating and sticking.
ctrl + alt - s : chunkc tiling::window --toggle sticky;\
                 chunkc tiling::window --grid-layout 5:5:0:0:6:2
ctrl + alt - t : chunkc tiling::window --toggle float;\
                 chunkc tiling::window --grid-layout 4:4:1:1:2:2
ctrl + alt + shift - t : chunkc tiling::window --toggle sticky;\
                         chunkc tiling::window --grid-layout 4:4:1:1:2:2

# }}}

# Vim functionality for other applications {{{
# :: vim
# default < ctrl + alt - v ; vim
# vim     < ctrl + alt - v ; default
#
# vim < h : skhd -k "left"
# vim < j : skhd -k "down"
# vim < k : skhd -k "up"
# vim < l : skhd -k "right"
# }}}

# Some function keys for external (non-Apple) keyboard. {{{

f13 : skhd -k "play"
ctrl - f14 : skhd -k "sound_down"
ctrl - f15 : skhd -k "sound_up"
# 'Context-menu' key between Super and Ctrl.
# - 0x6e : skhd -k "play"

# }}}
